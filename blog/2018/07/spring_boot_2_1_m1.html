<!DOCTYPE html>
<html data-code-prettify data-clipboard-buttons data-goto-top data-nav-menu data-switch-sidebar data-mobile-support>

  <head>
  <meta charset="utf-8"/>
  <title>Spring Boot 2.1.0 M1发布 - Spring 开发者</title>
  <meta id="Viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <meta name="description" content="Spring Dev Site"/>
  <meta name="author" content="rainboyan.com"/>
  <meta name="keywords" content="Spring,Spring Boot,Spring Security,Spring Dev"/>
  <meta property="og:title" content="Spring Boot 2.1.0 M1发布" /><meta property="og:image" content="/img/springdev-logo-large.png" /><meta property="og:type" content="article"><meta property="og:article:published_time" content='2018-07-30'><meta property="og:description" content="Spring Boot 2.1.0 M1已发布，可以从里程碑库中获取。此版本关闭了180多个问题和拉取请求。" />
  <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.png"/>
  <link href='https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="/css/main.css" />
  <link rel="stylesheet" type="text/css" href="/css/blog.css" />
  <link rel="stylesheet" type="text/css" href="/css/custom.css" />
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="/jspm_packages/system.js"></script>
  <script>
    System.config({baseURL: "/"});
  </script>
  <script src="/config.js"></script>
  <script>
      System.import('app/main.js')
  </script>
</head>
  <body>
  <div class="viewport">
    <header class="navbar header--navbar desktop-only">
      <div class="navbar-inner">
        <div class="container-fluid">
          <div class="spring-logo--container">
            <a class="spring-logo" href="/"><span></span></a>
          </div>
          <ul class="nav pull-right">
            <li class="navbar-link">
              <a href="/projects/" >项目</a>
            </li>
            <li class="navbar-link">
              <a href="/guides/" >指南</a>
            </li>
            <li class="navbar-link">
              <a href="/blog/" >博客</a>
            </li>
            <li class="navbar-link nav-search js-nav-search">
              <a>
                <i class="icon-search navbar-search--icon js-search-input-open"></i>
                <span class="search-input-close js-search-input-close">
                  <i class="icon-remove"></i>
                </span>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="search-dropdown--container js-search-dropdown">
        <div class="container-fluid">
          <div class="search-form--container">
            <form class="form-inline form-search" action="../../../search" method="get">
              <input type="text" class="search-query search-form--form js-search-input" placeholder="Search for documentation, guides, and posts..." name="q" value="" />
              <button type="submit" class="search-form--submit"><i class="icon-search"></i></button>
            </form>
          </div>
        </div>
      </div>
    </header>
    <div>
    <div class="mobile-navigation--wrapper mobile-only">
      <div class="navigation-drawer--container">
        <div class="mobile-search--container">
          <form class="form-inline form-search" action="../../../search" method="get">
            <button type="submit" class="search-form--submit"><i class="icon-search"></i></button>
            <input type="text" class="search-query search-form--form js-search-input" placeholder="Search..." name="q" value="" />
          </form>
        </div>
        <div class="navigation-item-list">
          <div class="navbar-link">
            <a href="/">
              首页
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="/projects/">
              项目
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="/guides/">
              指南
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="/blog/">
              博客
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="mobile-nav">
        <div class="nav-icon js-open-nav-drawer">
          <i class="icon-reorder"></i>
        </div>
        <div class="header-center-icon">
          <a href="../../../">
            <div class="icon icon-spring-logo-mobile"></div>
          </a>
        </div>
      </div>
    </div>
  </div>

    <div class="container-fluid"></div>
    <div></div>
    <main class="body--container container-fluid">
      <div class="main-body--wrapper">
        <div class="desktop-only">
          <h1 class="blog-category active content--title">版本发布</h1>
          <div class="blog-category content--title">
            <div>Engineering</div>
          </div>
          <div class="blog-category content--title">
            <div>Releases</div>
          </div>
          <div class="blog-category content--title">
            <div>News and Events</div>
          </div>
          <div class="switch-sidebar pull-right"><input type="checkbox" class="js-switch"/></div>
        </div>
        <div class="row-fluid blog--wrapper">
          <article class="span8 mobile-left-pane" id="content">
            <div class="blog--container">
              <header>
                <h1 class="blog--title">Spring Boot 2.1.0 M1发布</h1>
                <div class="meta-data--container">
                  <div class="meta-data--item desktop-only">
                    <div class="meta-data--icon icon blog-icon release"></div>
                    <span>
                      <a class="category" href="../../../blog/category/release.html">release</a>&nbsp;
                    </span>
                    </div>
                    <div class="meta-data--item">
                      <img class="meta-data--icon" src="/img/avatars/rain.png">
                      <a class="author" rel="author" href="http://rainboyan.com">rain</a>
                    </div>
                    <div class="meta-data--item">
                      <div class="meta-data--icon icon blog-icon calendar"></div>
                      <time class="date" pubdate="" datetime=''>2018-07-30</time>
                    </div>
                    <div class="meta-data--item">
                      <div class="meta-data--icon icon blog-icon comments"></div>
                      <a class="comments" href="../../../blog/2018/07/spring_boot_2_1_m1.html#gitalk-container">评论
                      </a>
                    </div>
                </div>
              </header>
              <div class="blog--post"><div id="preamble"> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Spring Boot 2.1的第一个里程碑已经发布，可以从里程碑库中获取。此版本关闭了180多个问题和拉取请求。</p> 
  </div> 
  <div class="paragraph"> 
   <p>第一个里程碑建立在Spring Framework 5.1.RC1、Spring Data Lovelace RC1和Spring Security 5.1 M2等最新的项目之上。</p> 
  </div> 
  <div class="paragraph"> 
   <p>其他亮点还包括：</p> 
  </div> 
  <div class="ulist"> 
   <ul> 
    <li> <p>采用Undertow 2.0 and Tomcat 9.0，支持Servlet 4</p> </li> 
    <li> <p>缓存端点</p> </li> 
    <li> <p>支持查询单个组件的运行状况</p> </li> 
    <li> <p>支持多配置文件YAML文档中的配置文件表达式和&lt;springProfile&gt; Logback配置</p> </li> 
   </ul> 
  </div> 
  <div class="paragraph"> 
   <p>我对Spring Boot 2.1.0 M1发行说明进行了详细的整理，内容如下：</p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="从spring_boot_2_0升级">从Spring Boot 2.0升级</h2> 
 <div class="sectionbody"> 
  <div class="sect2"> 
   <h3 id="弃用的类">弃用的类</h3> 
   <div class="paragraph"> 
    <p>在此版本中已删除了Spring Boot 2.0中不推荐使用的类，方法和属性。请确保在升级之前不要调用已弃用的方法。</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="bean覆盖">Bean覆盖</h3> 
   <div class="paragraph"> 
    <p>默认情况下禁用Bean覆盖以防止意外覆盖bean。如果依赖于覆盖，则需要将<code>spring.main.allow-bean-definition-overriding</code>设置为<code>true</code>。</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="info和health默认不安全">info和health默认不安全</h3> 
   <div class="paragraph"> 
    <p>如果<code>spring-security</code>在没有任何安全配置的类路径上，则<code>/info</code>和<code>/health</code>将会被公开以保持一致性。如果类路径上有<code>spring-security</code>且未提供任何安全配置，则需要明确保护它们。</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="json_simple">Json Simple</h3> 
   <div class="paragraph"> 
    <p>不再提供json-simple的依赖关系管理，并且已删除使用它的JsonParser实现。</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="jersey_1">Jersey 1</h3> 
   <div class="paragraph"> 
    <p>不再支持Jersey 1。</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="spring_provides">spring.provides</h3> 
   <div class="paragraph"> 
    <p>Starter可以声明<code>META-INF/spring.provides</code>，以便IDE可以找出它提供的依赖关系。扫描Starter POM以获得它声明的直接依赖性应该足以指示。如果你负责第三方启动器并声明此文件，则可以将其删除。</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="servlet路径">Servlet路径</h3> 
   <div class="paragraph"> 
    <p><code>server.servlet.path</code>属性已改为<code>spring.mvc.servlet.path</code>。如果你以编程方式依赖该属性来获取<code>DispatcherServlet</code>的路径，请改为使用<code>DispatcherServletPath</code>。</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="maven插件">Maven插件</h3> 
   <div class="paragraph"> 
    <p>finalName属性不再可自定义以与标准Maven插件的行为保持一致。</p> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="值得关注的一些新内容">值得关注的一些新内容</h2> 
 <div class="sectionbody"> 
  <div class="sect2"> 
   <h3 id="第三方库升级">第三方库升级</h3> 
   <div class="paragraph"> 
    <p>Spring Boot 2.1构建于Spring Framework 5.1之上并需要它。</p> 
   </div> 
   <div class="paragraph"> 
    <p>我们已尽可能升级到其他第三方jars的最新稳定版本。此版本中的一些值得注意的依赖项升级包括：</p> 
   </div> 
   <div class="ulist"> 
    <ul> 
     <li> <p>Tomcat 9</p> </li> 
     <li> <p>Undertow 2</p> </li> 
     <li> <p>Hibernate 5.3</p> </li> 
     <li> <p>JUnit 5.2</p> </li> 
    </ul> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="profile表达式">Profile表达式</h3> 
   <div class="paragraph"> 
    <p>Profile匹配已得到改进，以支持表达式格式。例如，<code>product &amp;(us-east | eu-central)</code> 表示生产配置文件处于活动状态且<code>us-east</code>或<code>eu-central</code>配置文件处于活动状态时匹配。</p> 
   </div> 
   <div class="ulist"> 
    <div class="title">
     Profile表达式可用于下列场景：
    </div> 
    <ul> 
     <li> <p>使用@Profile来启用组件</p> </li> 
     <li> <p>加载多种profile的YAML文档</p> </li> 
     <li> <p>使用&lt;springProfile&gt;启用Logback配置</p> </li> 
    </ul> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="actuator">Actuator</h3> 
   <div class="sect3"> 
    <h4 id="缓存端点">缓存端点</h4> 
    <div class="paragraph"> 
     <p>新的<code>/actuator/caches</code>端点列出可用的CacheManager实例及其各自的缓存基本元数据。有关更多详细信息，请参阅API。</p> 
    </div> 
   </div> 
   <div class="sect3"> 
    <h4 id="spring_integration图形化端点">Spring Integration图形化端点</h4> 
    <div class="paragraph"> 
     <p>如果你使用的是Spring Integration，则可以在<code>/actuator/integrationgraph</code>中采用图形化的方式来展示所有Spring Integration组件。有关更多详细信息，请参阅API。</p> 
    </div> 
   </div> 
   <div class="sect3"> 
    <h4 id="健康端点">健康端点</h4> 
    <div class="paragraph"> 
     <p>现在，<code>HealthIndicatorRegistry</code>bean可用于在运行时添加和删除<code>HealthIndicator</code>。如有必要，还会改进运行状况端点以查询特定指示符。 例如<code>/actuator/health/db</code>仅执行“db”<code>HealthIndicator</code>。有关更多详细信息，请参阅API。</p> 
    </div> 
    <div class="paragraph"> 
     <p>Apache Cassandra的响应式HealthIndicator已经可用。</p> 
    </div> 
   </div> 
   <div class="sect3"> 
    <h4 id="micrometer">Micrometer</h4> 
    <div class="paragraph"> 
     <p>常用标记可以声明方式应用于所有计量表，如以下示例所示：</p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre>management.metrics.tags.region=us-east-1
management.metrics.tags.stack=prod</pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>上面的示例为所有仪表添加了一个区域和堆栈标签，其值分别为<code>us-east-1</code>和<code>prod</code>。</p> 
    </div> 
    <div class="ulist"> 
     <div class="title">
      指标范围已得到改善：
     </div> 
     <ul> 
      <li> <p>Hibernate指标</p> </li> 
      <li> <p><code>WebClient</code></p> </li> 
     </ul> 
    </div> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="安全">安全</h3> 
   <div class="paragraph"> 
    <p>添加了对WebFlux OAuth2登录的支持。</p> 
   </div> 
   <div class="paragraph"> 
    <p>OpenID Connect提供程序可用使用<code>issuer-uri</code>来更容易配置，<code>issuer-uri</code>是为其颁发者标识符的URI。</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="elasticsearch_rest客户端">Elasticsearch REST客户端</h3> 
   <div class="paragraph"> 
    <p>作为Jest的替代选项，<code>RestClient</code>和<code>RestHighLevelClient</code>的自动配置提供了命名空间为<code>spring.elasticsearch.rest.*</code>的可配置选项。</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="jms_code_connectionfactory_code_缓存">JMS <code>ConnectionFactory</code>缓存</h3> 
   <div class="paragraph"> 
    <p>默认情况下，使用<code>CachingConnectionFactory</code>缓存自动配置的<code>ConnectionFactory</code>，直到启用pool选项或将<code>spring.jms.cache.enabled</code>设置为<code>false</code>。 Pooling选项也已扩展到Artemis（请参阅<code>spring.jms.artemis.pool.*</code>）。</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="quartz">Quartz</h3> 
   <div class="paragraph"> 
    <p><code>spring.quartz</code>命名空间增加了多个配置项。</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="junit_5">JUnit 5</h3> 
   <div class="paragraph"> 
    <p>所有<code>@…​</code>测试注释都使用<code>@ExtendedWith(SpringExtension.class)</code>进行元注释，因此如果你使用的是JUnit，则可以删除此设置的冗余部分。Spring Boot使用的<code>maven-surefire-plugin</code>版本，不需要任何自定义设置就能使用JUnit 5。</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="maven插件_2">Maven插件</h3> 
   <div class="paragraph"> 
    <p>通过使用<a href="http://docs.spring.io/spring-boot/docs/2.1.0.M1/maven-plugin/examples/run-system-properties.html" class="external" target="_blank" rel="noopener">系统属性</a>和<a href="http://docs.spring.io/spring-boot/docs/2.1.0.M1/maven-plugin/examples/run-env-variables.html" class="external" target="_blank" rel="noopener">环境变量</a>的专用选项，改进了指定参数。</p> 
   </div> 
   <div class="paragraph"> 
    <p>也可以重新打包和替换<code>classified</code>构件，请参阅<code>classified</code>属性的更新文档。</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="其他">其他</h3> 
   <div class="paragraph"> 
    <p>除了上面列出的变化之外，还有许多小的调整和改进，包括：</p> 
   </div> 
   <div class="ulist"> 
    <ul> 
     <li> <p><code>@ConditionalOnEnabledEndpoint</code>可用于任何组件（例如，端点仅需要的东西，如果端点被禁用则不应创建）。</p> </li> 
     <li> <p><code>@WebMvcTest</code>也自动配置Spring Data REST（例如支持Sort和Pageable请求参数）。</p> </li> 
     <li> <p>不再需要导出虚假的<code>ResourceConfig</code>以启用Jersey支持。</p> </li> 
     <li> <p>使用自动配置的<code>WebServiceTemplateBuilder</code>创建<code>WebServiceTemplate</code>更容易。</p> </li> 
     <li> <p>Jackson可见性可以使用<code>spring.jackson.visibility.*</code>来配置。</p> </li> 
     <li> <p>在使用Devtools的情况下，错误页面会显示出堆栈跟踪。</p> </li> 
     <li> <p>JNDI查找已得到改进，默认情况下启用<code>resourceRef</code>。</p> </li> 
     <li> <p>可以通过<code>RabbitRetryTemplateCustomizer</code>来自定义Rabbit使用的<code>RetryTemplate</code>。</p> </li> 
     <li> <p>自动配置排除现在保证应用一致。</p> </li> 
     <li> <p>使用Reactor Netty支持HTTP/2。</p> </li> 
    </ul> 
   </div> 
   <div class="admonitionblock note"> 
    <table> 
     <tbody>
      <tr> 
       <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> 
       <td class="content"> 
        <div class="paragraph"> 
         <p>由于本次发布的版本包含特性比较多，因此这篇文章确实有点长，可用先收藏后慢慢看，后续版本版发布我会继续详细报道，敬请关注。</p> 
        </div> </td> 
      </tr> 
     </tbody>
    </table> 
   </div> 
  </div> 
 </div> 
</div></div>
              <ul id="direction" class="pagination blog-pagination pager">
              <li class="previous"><a  href="../../../blog/2018/07/spring_boot_2_0_4_available_now.html"> ←Spring Boot 2.0.4现已可用</a></li>
              <li class="next"><a href="../../../blog/2018/07/spring_cloud_data_flow_1_6_ga_released.html">Spring Cloud Data Flow 1.6 正式版发布 →</a></li>
              </ul>
            </div>
            <section id="gitalk-container"></section>
          </article>
          <aside class="span4 mobile-right-pane">
      <div><h2>文章分类</h2>
        <ul class="right-pane-widget--container secondary-nav with-icon">
          <li class="blog-category active">
            <div class="icon blog-icon all-posts"></div>
            <a href="/blog/">全部内容</a>
            <a class="pull-right" href="/feed.xml"><i class="icon-rss"></i></a>
          </li>
          <li class="blog-category">
            <div class="icon blog-icon engineering"></div>
            <a href="/blog/category/article.html">书籍文章</a>
            <a class="pull-right" href="/feed.xml"><i class="icon-rss"></i></a>
          </li>
          <li class="blog-category">
            <div class="icon blog-icon releases"></div>
            <a href="/blog/category/release.html">版本发布</a>
            <a class="pull-right" href="/feed.xml"><i class="icon-rss"></i></a>
          </li>
          <li class="blog-category">
            <div class="icon blog-icon news-and-events"></div>
            <a href="/blog/category/news.html">新闻资讯</a>
            <a class="pull-right" href="/feed.xml"><i class="icon-rss"></i></a>
          </li>
        </ul>
      </div>
      <div><h2>最新文章</h2>
        <ul class="right-pane-widget--container secondary-nav with-icon">
          <li class="blog-category">
            <div class="icon blog-icon release"></div>
            <a href="../../../blog/2018/08/spring-framework-5-1-rc2-available-now.html" title="Spring Framework 5.1 RC2 发布了">Spring Framewor...</a>
            <span class="pull-right">2018-08-17</span>
          </li>
          <li class="blog-category">
            <div class="icon blog-icon article"></div>
            <a href="../../../blog/2018/08/what-is-the-oauth-2-0-authorization-code-grant-type.html" title="什么是OAuth 2.0 授权码模式？">什么是OAuth 2.0 授权...</a>
            <span class="pull-right">2018-08-16</span>
          </li>
          <li class="blog-category">
            <div class="icon blog-icon release"></div>
            <a href="../../../blog/2018/08/spring-cloud-open-service-broker-2-0-1-release-is-now-available.html" title="Spring Cloud Open Service Broker 2.0.1.RELEASE 已发布">Spring Cloud Op...</a>
            <span class="pull-right">2018-08-13</span>
          </li>
          <li class="blog-category">
            <div class="icon blog-icon article"></div>
            <a href="../../../blog/2018/08/10-ways-to-secure-spring-boot.html" title="10 种保护Spring Boot应用程序的绝佳方法">10 种保护Spring Bo...</a>
            <span class="pull-right">2018-08-11</span>
          </li>
          <li class="blog-category">
            <div class="icon blog-icon news"></div>
            <a href="../../../blog/2018/08/this-week-in-spring-august-10th-2018.html" title="Spring一周回顾（2018年8月10日）">Spring一周回顾（2018...</a>
            <span class="pull-right">2018-08-10</span>
          </li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
        </ul>
      </div>
    </aside>
        </div>
      </div>
    </main>
    <footer class="footer">
      <div class="container-fluid">
        <div class="row-fluid">
          <div class="span12">
            <div class="navbar">
              <div class="container">
                <ul class="nav">
                  <li><a href="../../../team.html">Team</a></li>
                  <li><a href="../../../services.html">Services</a></li>
                  <li><a href="../../../tools.html">Tools</a></li>
                </ul>
              </div>
            </div>
            &copy; <span>2018</span> <a href="http://springdev.io/">SpringDev.IO</a>. All Rights Reserved.
            <a href="../../../terms-of-use.html">Terms of Use</a>,
            <a href="../../../privacy-policy.html">Privacy</a>,
            <a href="../../../trademarks.html">Trademark Guidelines</a> and
            <span id="teconsent"></span>
          </div>
        </div>
      </div>
    </footer>
    <div id="scrim"></div>
  </div>
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <script type="text/javascript">
      var gitalk = new Gitalk({
        clientID: 'e0ad4e23b37963590faf',
        clientSecret: '1bbf06b574f0e6623211f8cc029f874db67c7dfe',
        repo: 'springdev-issues',
        owner: 'springdev-io',
        admin: ['rainboyan'],
        id: 'Comments',
        distractionFreeMode: true
      });
      gitalk.render('gitalk-container');
  </script>
  </body>
</html>